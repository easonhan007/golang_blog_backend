{{ define "contents" }}
<div class="container mx-auto flex flex-wrap py-6">

  <!-- Posts Section -->
  <section class="w-full md:w-2/3 flex flex-col items-center px-3">
		{{ range .posts }}
            <article class="flex flex-col shadow my-4">
                <!-- Article Image -->
                <a href="/{{ .ID }}" class="hover:opacity-75">
                    <img src="https://source.unsplash.com/collection/335434/1000x500?sig={{call $.rand_index}}">
                </a>
                <div class="bg-white flex flex-col justify-start p-6">
                    <a href="" class="text-3xl font-bold hover:text-gray-700 pb-4">{{.Title}}</a>
                    <p href="/{{ .ID }}" class="text-sm pb-3">
                        By <a href="#" class="font-semibold hover:text-gray-800">Ethan Han</a>, Published on {{ .Created }}
                    </p>
                    <a href="/{{ .ID }}" class="pb-6 posts">{{call $.truncate .Body 200}}</a>
                    <a href="/{{ .ID }}" class="uppercase text-gray-800 hover:text-black">Continue Reading <i class="fas fa-arrow-right"></i></a>
                </div>
            </article>
		{{ end }}

  </section>
</div>
<script src="https://cdn.jsdelivr.net/npm/marked@4.3.0/lib/marked.umd.min.js"></script>
<script>
  document.querySelectorAll('.posts').forEach(function(item) {
    item.innerHTML = marked.parse(item.innerHTML);
  });
</script>
{{ end }}